<!DOCTYPE html><html lang="zh-CN" data-theme="light"><head><!-- hexo injector head_begin start -->
<link rel="stylesheet" href="/css/bilicard.css">
<!-- hexo injector head_begin end --><meta charset="UTF-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1.0,viewport-fit=cover"><title>5349 | Xiaotan's Blog</title><meta name="author" content="Xiaotan"><meta name="copyright" content="Xiaotan"><meta name="format-detection" content="telephone=no"><meta name="theme-color" content="#ffffff"><meta name="description" content="Aurora 大题  1. [2 pts] Max data size stored in Aurora  Answer: 64 TB Explanation: Aurora stores data in 10GB segments replicated across 6 storage nodes per PG. Total maximum size is 64 TB as per AWS A">
<meta property="og:type" content="article">
<meta property="og:title" content="5349">
<meta property="og:url" content="https://www.433200.xyz/24b3f7b9.html">
<meta property="og:site_name" content="Xiaotan&#39;s Blog">
<meta property="og:description" content="Aurora 大题  1. [2 pts] Max data size stored in Aurora  Answer: 64 TB Explanation: Aurora stores data in 10GB segments replicated across 6 storage nodes per PG. Total maximum size is 64 TB as per AWS A">
<meta property="og:locale" content="zh_CN">
<meta property="og:image" content="https://www.433200.xyz/attach/1.png">
<meta property="article:published_time" content="2025-06-19T11:47:09.000Z">
<meta property="article:modified_time" content="2025-11-26T05:19:10.594Z">
<meta property="article:author" content="Xiaotan">
<meta name="twitter:card" content="summary">
<meta name="twitter:image" content="https://www.433200.xyz/attach/1.png"><link rel="shortcut icon" href="/attach/2.png"><link rel="canonical" href="https://www.433200.xyz/24b3f7b9.html"><link rel="preconnect" href="//cdnjs.cloudflare.com"/><link rel="preconnect" href="//busuanzi.ibruce.info"/><link rel="stylesheet" href="/css/index.css"><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.1/css/all.min.css"><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/fancyapps-ui/5.0.33/fancybox/fancybox.min.css" media="print" onload="this.media='all'"><script>const GLOBAL_CONFIG = {
  root: '/',
  algolia: undefined,
  localSearch: {"path":"/search.xml","preload":true,"top_n_per_article":1,"unescape":false,"languages":{"hits_empty":"找不到您查询的内容：${query}","hits_stats":"共找到 ${hits} 篇文章"}},
  translate: undefined,
  noticeOutdate: undefined,
  highlight: {"plugin":"highlight.js","highlightCopy":true,"highlightLang":true,"highlightHeightLimit":false},
  copy: {
    success: '复制成功',
    error: '复制错误',
    noSupport: '浏览器不支持'
  },
  relativeDate: {
    homepage: false,
    post: false
  },
  runtime: '',
  dateSuffix: {
    just: '刚刚',
    min: '分钟前',
    hour: '小时前',
    day: '天前',
    month: '个月前'
  },
  copyright: undefined,
  lightbox: 'fancybox',
  Snackbar: undefined,
  infinitegrid: {
    js: 'https://cdnjs.cloudflare.com/ajax/libs/egjs-infinitegrid/4.11.1/infinitegrid.min.js',
    buttonText: '加载更多'
  },
  isPhotoFigcaption: false,
  islazyload: false,
  isAnchor: true,
  percent: {
    toc: true,
    rightside: false,
  },
  autoDarkmode: false
}</script><script id="config-diff">var GLOBAL_CONFIG_SITE = {
  title: '5349',
  isPost: true,
  isHome: false,
  isHighlightShrink: false,
  isToc: true,
  postUpdate: '2025-11-26 13:19:10'
}</script><script>(win=>{
      win.saveToLocal = {
        set: (key, value, ttl) => {
          if (ttl === 0) return
          const now = Date.now()
          const expiry = now + ttl * 86400000
          const item = {
            value,
            expiry
          }
          localStorage.setItem(key, JSON.stringify(item))
        },
      
        get: key => {
          const itemStr = localStorage.getItem(key)
      
          if (!itemStr) {
            return undefined
          }
          const item = JSON.parse(itemStr)
          const now = Date.now()
      
          if (now > item.expiry) {
            localStorage.removeItem(key)
            return undefined
          }
          return item.value
        }
      }
    
      win.getScript = (url, attr = {}) => new Promise((resolve, reject) => {
        const script = document.createElement('script')
        script.src = url
        script.async = true
        script.onerror = reject
        script.onload = script.onreadystatechange = function() {
          const loadState = this.readyState
          if (loadState && loadState !== 'loaded' && loadState !== 'complete') return
          script.onload = script.onreadystatechange = null
          resolve()
        }

        Object.keys(attr).forEach(key => {
          script.setAttribute(key, attr[key])
        })

        document.head.appendChild(script)
      })
    
      win.getCSS = (url, id = false) => new Promise((resolve, reject) => {
        const link = document.createElement('link')
        link.rel = 'stylesheet'
        link.href = url
        if (id) link.id = id
        link.onerror = reject
        link.onload = link.onreadystatechange = function() {
          const loadState = this.readyState
          if (loadState && loadState !== 'loaded' && loadState !== 'complete') return
          link.onload = link.onreadystatechange = null
          resolve()
        }
        document.head.appendChild(link)
      })
    
      win.activateDarkMode = () => {
        document.documentElement.setAttribute('data-theme', 'dark')
        if (document.querySelector('meta[name="theme-color"]') !== null) {
          document.querySelector('meta[name="theme-color"]').setAttribute('content', '#0d0d0d')
        }
      }
      win.activateLightMode = () => {
        document.documentElement.setAttribute('data-theme', 'light')
        if (document.querySelector('meta[name="theme-color"]') !== null) {
          document.querySelector('meta[name="theme-color"]').setAttribute('content', '#ffffff')
        }
      }
      const t = saveToLocal.get('theme')
    
        if (t === 'dark') activateDarkMode()
        else if (t === 'light') activateLightMode()
      
      const asideStatus = saveToLocal.get('aside-status')
      if (asideStatus !== undefined) {
        if (asideStatus === 'hide') {
          document.documentElement.classList.add('hide-aside')
        } else {
          document.documentElement.classList.remove('hide-aside')
        }
      }
    
      const detectApple = () => {
        if(/iPad|iPhone|iPod|Macintosh/.test(navigator.userAgent)){
          document.documentElement.classList.add('apple')
        }
      }
      detectApple()
    })(window)</script><link rel="stylesheet" href="/css/universe.css"><link rel="stylesheet" href="/css/custom.css" media="defer" onload="this.media='all'"><link href="https://cdn.staticfile.net/lxgw-wenkai-webfont/1.7.0/style.min.css" rel="stylesheet"><!-- hexo injector head_end start --><link rel="stylesheet" href="/css/runtime.min.css" media="print" onload="this.media='all'"><link rel="stylesheet" href="https://cdn.staticfile.net/animate.css/4.1.1/animate.min.css" media="print" onload="this.media='screen'"><!-- hexo injector head_end end --><meta name="generator" content="Hexo 7.3.0"></head><body><div id="loading-box" onclick="document.getElementById(&quot;loading-box&quot;).classList.add(&quot;loaded&quot;)"><div class="loading-bg"><div class="loading-img"></div><div class="loading-image-dot"></div></div></div><script>const preloader = {
  endLoading: () => {
    document.body.style.overflow = 'auto';
    document.getElementById('loading-box').classList.add("loaded")
  },
  initLoading: () => {
    document.body.style.overflow = '';
    document.getElementById('loading-box').classList.remove("loaded")

  }
}
window.addEventListener('load',()=> { preloader.endLoading() })

if (true) {
  document.addEventListener('pjax:send', () => { preloader.initLoading() })
  document.addEventListener('pjax:complete', () => { preloader.endLoading() })
}</script><script>window.paceOptions = {
  restartOnPushState: false
}

document.addEventListener('pjax:send', () => {
  Pace.restart()
})
</script><link rel="stylesheet" href="/css/progress_bar.css"/><script src="https://cdnjs.cloudflare.com/ajax/libs/pace/1.2.4/pace.min.js"></script><div id="web_bg"></div><div id="sidebar"><div id="menu-mask"></div><div id="sidebar-menus"><div class="avatar-img is-center"><img src="/attach/1.png" onerror="onerror=null;src='/img/friend_404.gif'" alt="avatar"/></div><div class="sidebar-site-data site-data is-center"><a href="/archives/"><div class="headline">文章</div><div class="length-num">66</div></a><a href="/tags/"><div class="headline">标签</div><div class="length-num">18</div></a><a href="/categories/"><div class="headline">分类</div><div class="length-num">5</div></a></div><hr class="custom-hr"/><div class="menus_items"><div class="menus_item"><a class="site-page" href="/"><i class="fa-fw fas fa-home"></i><span> 首页</span></a></div><div class="menus_item"><a class="site-page" href="/webs/"><i class="fa-fw fab fa-webflow"></i><span> 网址导航</span></a></div><div class="menus_item"><a class="site-page" href="/Gallery/"><i class="fa-fw fas fa-images"></i><span> 图库</span></a></div><div class="menus_item"><a class="site-page" href="/archives/"><i class="fa-fw fas fa-archive"></i><span> 时间轴</span></a></div><div class="menus_item"><a class="site-page" href="/about/"><i class="fa-fw fas fa-heart"></i><span> 关于</span></a></div></div></div></div><div class="post" id="body-wrap"><header class="post-bg" id="page-header"><nav id="nav"><span id="blog-info"><a href="/" title="Xiaotan's Blog"><span class="site-name">Xiaotan's Blog</span></a></span><div id="menus"><div id="search-button"><a class="site-page social-icon search" href="javascript:void(0);"><i class="fas fa-search fa-fw"></i><span> 搜索</span></a></div><div class="menus_items"><div class="menus_item"><a class="site-page" href="/"><i class="fa-fw fas fa-home"></i><span> 首页</span></a></div><div class="menus_item"><a class="site-page" href="/webs/"><i class="fa-fw fab fa-webflow"></i><span> 网址导航</span></a></div><div class="menus_item"><a class="site-page" href="/Gallery/"><i class="fa-fw fas fa-images"></i><span> 图库</span></a></div><div class="menus_item"><a class="site-page" href="/archives/"><i class="fa-fw fas fa-archive"></i><span> 时间轴</span></a></div><div class="menus_item"><a class="site-page" href="/about/"><i class="fa-fw fas fa-heart"></i><span> 关于</span></a></div></div><div id="toggle-menu"><a class="site-page" href="javascript:void(0);"><i class="fas fa-bars fa-fw"></i></a></div></div></nav><div id="post-info"><h1 class="post-title">5349</h1><div id="post-meta"><div class="meta-firstline"><span class="post-meta-date"><i class="far fa-calendar-alt fa-fw post-meta-icon"></i><span class="post-meta-label">发表于</span><time class="post-meta-date-created" datetime="2025-06-19T11:47:09.000Z" title="发表于 2025-06-19 19:47:09">2025-06-19</time><span class="post-meta-separator">|</span><i class="fas fa-history fa-fw post-meta-icon"></i><span class="post-meta-label">更新于</span><time class="post-meta-date-updated" datetime="2025-11-26T05:19:10.594Z" title="更新于 2025-11-26 13:19:10">2025-11-26</time></span><span class="post-meta-categories"><span class="post-meta-separator">|</span><i class="fas fa-inbox fa-fw post-meta-icon"></i><a class="post-meta-categories" href="/categories/%E5%AD%A6%E4%B9%A0/">学习</a></span></div><div class="meta-secondline"><span class="post-meta-separator">|</span><span id="" data-flag-title="5349"><i class="far fa-eye fa-fw post-meta-icon"></i><span class="post-meta-label">阅读量:</span><span id="twikoo_visitors"><i class="fa-solid fa-spinner fa-spin"></i></span></span><span class="post-meta-separator">|</span><span class="post-meta-commentcount"><i class="far fa-comments fa-fw post-meta-icon"></i><span class="post-meta-label">评论数:</span><a href="/24b3f7b9.html#post-comment"><span id="twikoo-count"><i class="fa-solid fa-spinner fa-spin"></i></span></a></span></div></div></div></header><main class="layout" id="content-inner"><div id="post"><article class="post-content" id="article-container"><h2 id="aurora-大题"><a class="markdownIt-Anchor" href="#aurora-大题"></a> Aurora 大题</h2>
<p><img src="../attach/Pasted%20image%2020250619194814.png" alt="" /></p>
<p><strong>1. [2 pts] Max data size stored in Aurora</strong></p>
<blockquote>
<p><strong>Answer:</strong> 64 TB<br />
<strong>Explanation:</strong> Aurora stores data in 10GB segments replicated across 6 storage nodes per PG. Total maximum size is 64 TB as per AWS Aurora architecture design.</p>
</blockquote>
<hr />
<p><strong>2. [3 pts] Logs sent by P to R1</strong></p>
<blockquote>
<p><strong>Answer:</strong> All logs: 1001–1008<br />
<strong>Explanation:</strong> Replicas (R1–R3) receive all logs from primary to update their in-memory buffers, regardless of PG.</p>
</blockquote>
<hr />
<p><strong>3. [3 pts] Logs sent by P to SN1</strong></p>
<blockquote>
<p><strong>Answer:</strong> 1001, 1003, 1005, 1007<br />
<strong>Explanation:</strong> SN1 belongs to PG1 only. All odd LSNs belong to PG1, so only odd-numbered logs are sent to SN1.</p>
</blockquote>
<hr />
<p><strong>4. [3 pts] Distribution of SN4, SN5, SN6</strong></p>
<blockquote>
<p><strong>Answer:</strong></p>
</blockquote>
<ul>
<li>SN4 → AZ1</li>
<li>SN5 → AZ2</li>
<li>SN6 → AZ3</li>
</ul>
<blockquote>
<p><strong>Explanation:</strong> Each PG must span 3 AZs with 2 copies in each. Current known distribution shows AZ1, AZ2, AZ3 each has 2 nodes. Assign SN4–SN6 one to each AZ to satisfy 6 nodes in 3 AZs, 2 per AZ.</p>
</blockquote>
<hr />
<p><strong>5. [4 pts] CPL and VDL values</strong></p>
<blockquote>
<p><strong>Given:</strong><br />
Received LSNs: 1001–1004, 1006–1008<br />
Missing: 1005</p>
</blockquote>
<blockquote>
<p><strong>Answer:</strong></p>
</blockquote>
<ul>
<li><strong>CPL:</strong> 1003</li>
<li><strong>VDL:</strong> 1003</li>
</ul>
<blockquote>
<p><strong>Explanation:</strong><br />
Transaction X (1001–1003) fully received → CPL = 1003<br />
Transaction Y missing 1005 → not fully committed → no CPL<br />
So latest committed transaction is X → VDL = 1003</p>
</blockquote>
<p><img src="../attach/Pasted%20image%2020250619194920.png" alt="" /></p>
<p><strong>1. [5 pts] Storage node distribution across AZs</strong></p>
<blockquote>
<p><strong>Answer:</strong><br />
One possible AZ distribution to satisfy Aurora’s replication:</p>
</blockquote>
<ul>
<li><strong>AZ1</strong>: SN1, SN6, SN7</li>
<li><strong>AZ2</strong>: SN2, SN5, SN8</li>
<li><strong>AZ3</strong>: SN3, SN4</li>
</ul>
<blockquote>
<p><strong>Explanation:</strong><br />
Aurora requires each Protection Group to span <strong>3 AZs</strong>, with <strong>2 nodes per AZ</strong>.</p>
</blockquote>
<ul>
<li>PG1 (SN1–SN6) → 6 nodes across 3 AZs, 2 per AZ</li>
<li>PG2 (SN3–SN8) → same requirement<br />
This distribution satisfies both PGs’ replication needs.</li>
</ul>
<hr />
<p><strong>2. [5 pts] How SN5 fills in missing logs</strong></p>
<blockquote>
<p><strong>Given:</strong><br />
SN5 received logs: 1001, 1002, 1004, 1006<br />
→ Missing: 1003, 1005, 1007</p>
</blockquote>
<blockquote>
<p><strong>Answer:</strong><br />
SN5 detects missing LSNs by checking sequence gaps.<br />
It sends <strong>“Read Index” or “Gap Fill” requests</strong> to peer storage nodes in the same PG (e.g., SN1–SN6 for PG1, SN3–SN8 for PG2) asking for missing logs.<br />
If at least 3 other nodes have the log, SN5 can fetch and fill the gap.</p>
</blockquote>
<blockquote>
<p><strong>Example:</strong></p>
</blockquote>
<ul>
<li>Missing 1003 (PG1) → request from SN1, SN2, SN6</li>
<li>Missing 1005 (PG2) → request from SN4, SN6, SN8</li>
<li>Once received and verified, SN5 appends logs locally.</li>
</ul>
<hr />
<p><strong>3. [5 pts] CPL and VDL values</strong></p>
<blockquote>
<p><strong>Given:</strong><br />
LSNs 1001–1007 all received by storage service</p>
</blockquote>
<blockquote>
<p><strong>Answer:</strong></p>
</blockquote>
<ul>
<li><strong>CPL values:</strong> 1004, 1007</li>
<li><strong>VDL:</strong> 1007</li>
</ul>
<blockquote>
<p><strong>Explanation:</strong></p>
</blockquote>
<ul>
<li>Transaction X (LSNs 1001–1004) fully received → CPL = 1004</li>
<li>Transaction Y (1005–1007) also fully received → CPL = 1007</li>
<li>Since both PG1 and PG2 have received logs for both transactions, latest consistent CPL = 1007<br />
→ So VDL (last durable committed transaction) = 1007</li>
</ul>
<h2 id="question-1-6-points-name-three-typical-service-models-in-cloud-computing-give-an-example-service-of-each-model"><a class="markdownIt-Anchor" href="#question-1-6-points-name-three-typical-service-models-in-cloud-computing-give-an-example-service-of-each-model"></a> Question 1 [6 points] Name three typical service models in cloud computing. Give an example service of each model.</h2>
<p>The three main cloud service models are:<br />
(1) IaaS, like Amazon EC2, where users manage virtual machines;<br />
(2) FaaS, like AWS Lambda, where users run code without managing servers;<br />
(3) SaaS, like Google Docs, where users access complete software over the internet.</p>
<h2 id="question-2-5-points-describe-two-typical-traffic-patterns-in-modern-data-centre-explain-how-they-affect-the-networking-technology-evolution-in-cloud-computing-era"><a class="markdownIt-Anchor" href="#question-2-5-points-describe-two-typical-traffic-patterns-in-modern-data-centre-explain-how-they-affect-the-networking-technology-evolution-in-cloud-computing-era"></a> Question 2 [5 points] Describe two typical traffic patterns in modern data centre. Explain how they affect the networking technology evolution in cloud computing era.</h2>
<p>课件里面没有应该不考）<br />
Modern data centers handle <strong>north-south traffic</strong> (between users and servers) and <strong>east-west traffic</strong> (between internal components). In cloud computing, east-west traffic dominates due to microservices and distributed architectures. This leads to innovations like software-defined networking, high-speed switching, and VPC peering to improve internal traffic efficiency.现代数据中心处理<strong>南北向流量</strong> （用户与服务器之间）和<strong>东西向流量</strong> （内部组件之间）。在云计算中，由于微服务和分布式架构，东西向流量占主导地位。这催生了软件定义网络、高速交换和 VPC 对等连接等创新，以提高内部流量效率。</p>
<h2 id="question-3-8-points-explain-hardware-assisted-virtualisation-name-a-hardware-assisted-virtualisation-system-and-describe-its-components-in-detail"><a class="markdownIt-Anchor" href="#question-3-8-points-explain-hardware-assisted-virtualisation-name-a-hardware-assisted-virtualisation-system-and-describe-its-components-in-detail"></a> Question 3 [8 points] Explain hardware-assisted virtualisation. Name a hardware assisted virtualisation system and describe its components in detail.</h2>
<h3 id="hardware-assisted-virtualisation"><a class="markdownIt-Anchor" href="#hardware-assisted-virtualisation"></a> <strong>Hardware-Assisted Virtualisation</strong></h3>
<p><strong>Definition:</strong><br />
Hardware-assisted virtualization is a technology where the CPU provides special instructions (e.g., Intel VT-x, AMD-V) to support efficient virtual machine (VM) execution. It reduces overhead and improves performance compared to purely software-based virtualisation.</p>
<hr />
<h3 id="example-system-kvm-kernel-based-virtual-machine"><a class="markdownIt-Anchor" href="#example-system-kvm-kernel-based-virtual-machine"></a> <strong>Example System: KVM (Kernel-based Virtual Machine)</strong></h3>
<p><strong>Components:</strong></p>
<ol>
<li><strong>KVM Module</strong><br />
Turns the Linux kernel into a hypervisor, enabling VM support using CPU virtualization extensions (VT-x/AMD-V).</li>
<li><strong>QEMU (Quick Emulator)</strong><br />
Emulates hardware devices (e.g., disk, network) for VMs.</li>
<li><strong>Libvirt</strong><br />
Provides a management interface for creating, starting, and stopping VMs.</li>
<li><strong>vCPU and pCPU Mapping</strong><br />
Each VM has virtual CPUs (vCPUs), which are dynamically mapped to physical CPUs (pCPUs).</li>
<li><strong>Memory Management</strong><br />
Guest OS thinks it controls memory, but actual memory mapping is managed by the hypervisor.</li>
</ol>
<hr />
<h3 id="how-it-works-kvm"><a class="markdownIt-Anchor" href="#how-it-works-kvm"></a> <strong>How It Works (KVM):</strong></h3>
<ul>
<li>A guest OS is launched as a Linux process.</li>
<li>CPU runs guest code in a special mode.</li>
<li>Memory and I/O are virtualized by QEMU.</li>
<li>Admins use Libvirt to manage VM lifecycle.</li>
</ul>
<h2 id="question-4-10-points-describe-shared-responsibility-model-in-cloud-computing-use-a-particular-aws-service-covered-in-this-unit-to-explain-how-responsibilities-are-shared-between-cloud-providers-and-cloud-customers"><a class="markdownIt-Anchor" href="#question-4-10-points-describe-shared-responsibility-model-in-cloud-computing-use-a-particular-aws-service-covered-in-this-unit-to-explain-how-responsibilities-are-shared-between-cloud-providers-and-cloud-customers"></a> Question 4 [10 points] Describe shared responsibility model in cloud computing. Use a particular AWS service covered in this unit to explain how responsibilities are shared between cloud providers and cloud customers.</h2>
<h3 id="aws-shared-responsibility-model"><a class="markdownIt-Anchor" href="#aws-shared-responsibility-model"></a> <strong>AWS Shared Responsibility Model</strong></h3>
<p>Cloud security is a shared responsibility between <strong>AWS</strong> and the <strong>customer</strong>.</p>
<hr />
<h4 id="aws-is-responsible-for-security-of-the-cloud"><a class="markdownIt-Anchor" href="#aws-is-responsible-for-security-of-the-cloud"></a> <strong>AWS is responsible for “Security <em>of</em> the Cloud”</strong></h4>
<p>Includes:</p>
<ul>
<li>Physical security of data centers</li>
<li>Hardware, software, and network infrastructure</li>
<li>Virtualization and storage layer</li>
<li>Host OS (for managed services like RDS or Lambda)</li>
</ul>
<hr />
<h4 id="customer-is-responsible-for-security-in-the-cloud"><a class="markdownIt-Anchor" href="#customer-is-responsible-for-security-in-the-cloud"></a> <strong>Customer is responsible for “Security <em>in</em> the Cloud”</strong></h4>
<p>Includes:</p>
<ul>
<li>Operating system (if using EC2)</li>
<li>Applications and data</li>
<li>Security groups and firewall rules</li>
<li>IAM users, roles, and permissions</li>
<li>Encryption and network configuration</li>
</ul>
<hr />
<h3 id="example-amazon-ec2"><a class="markdownIt-Anchor" href="#example-amazon-ec2"></a> <strong>Example: Amazon EC2</strong></h3>
<ul>
<li><strong>AWS</strong> handles:
<ul>
<li>Data center</li>
<li>Physical host security</li>
<li>Hypervisor and virtualization layer</li>
</ul>
</li>
<li><strong>Customer</strong> handles:
<ul>
<li>Installing and patching the OS</li>
<li>Application configuration and updates</li>
<li>Configuring security groups and IAM roles</li>
<li>Protecting access (SSH keys, MFA)</li>
</ul>
</li>
</ul>
<h2 id="question-5-8-points-describe-the-concept-of-elasticity-give-examples-of-two-aws-services-with-the-term-elastic-as-part-of-the-service-name-for-each-service-describe-what-elastic-features-are-available-in-this-service"><a class="markdownIt-Anchor" href="#question-5-8-points-describe-the-concept-of-elasticity-give-examples-of-two-aws-services-with-the-term-elastic-as-part-of-the-service-name-for-each-service-describe-what-elastic-features-are-available-in-this-service"></a> Question 5 [8 points] Describe the concept of elasticity. Give examples of two AWS services with the term “elastic” as part of the service name. For each service, describe what elastic features are available in this service.</h2>
<h3 id="what-is-elasticity"><a class="markdownIt-Anchor" href="#what-is-elasticity"></a> <strong>What is Elasticity?</strong></h3>
<p>Elasticity is the ability of a system to automatically <strong>scale resources up or down</strong> based on demand.<br />
弹性是系统根据需求自动<strong>扩大或缩小资源</strong>的能力。</p>
<hr />
<h3 id="example-1-amazon-ec2-elastic-compute-cloud"><a class="markdownIt-Anchor" href="#example-1-amazon-ec2-elastic-compute-cloud"></a> <strong>Example 1: Amazon EC2 (Elastic Compute Cloud)</strong></h3>
<ul>
<li><strong>Elastic feature:</strong><br />
Auto Scaling Group can automatically launch or terminate EC2 instances based on traffic, CPU usage, or a schedule. Auto Scaling Group 可以根据流量、CPU 使用率或计划自动启动或终止 EC2 实例。</li>
<li><strong>Result:</strong><br />
You pay only for what you need. It helps maintain performance under load and saves cost when demand drops. 您只需按需付费。这有助于在负载下保持性能，并在需求下降时节省成本。</li>
</ul>
<hr />
<h3 id="example-2-elastic-load-balancing-elb"><a class="markdownIt-Anchor" href="#example-2-elastic-load-balancing-elb"></a> <strong>Example 2: Elastic Load Balancing (ELB)</strong></h3>
<ul>
<li><strong>Elastic feature:</strong><br />
Automatically distributes incoming traffic across healthy targets (e.g., EC2, containers).<br />
自动在健康目标（例如 EC2、容器）之间分配传入流量。</li>
<li><strong>Result:</strong><br />
Improves availability and fault tolerance by adjusting to changing traffic patterns. 通过适应不断变化的流量模式来提高可用性和容错能力。</li>
</ul>
<h2 id="iam-policy"><a class="markdownIt-Anchor" href="#iam-policy"></a> IAM policy</h2>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">&#123;</span><br><span class="line">  &quot;Version&quot;: &quot;2012-10-17&quot;,</span><br><span class="line">  &quot;Statement&quot;: [</span><br><span class="line">    &#123;</span><br><span class="line">      &quot;Condition&quot;: &#123;</span><br><span class="line">        &quot;StringEquals&quot;: &#123;</span><br><span class="line">          &quot;ec2:InstanceType&quot;: [&quot;t2.micro&quot;, &quot;t2.small&quot;],</span><br><span class="line">          &quot;aws:ResourceTag/Unit&quot;: &quot;COMP5349&quot;</span><br><span class="line">        &#125;</span><br><span class="line">      &#125;,</span><br><span class="line">      &quot;Resource&quot;: &quot;arn:aws:ec2:*:*:instance/*&quot;,</span><br><span class="line">      &quot;Action&quot;: [</span><br><span class="line">        &quot;ec2:StopInstances&quot;,</span><br><span class="line">        &quot;ec2:TerminateInstances&quot;,</span><br><span class="line">        &quot;ec2:StartInstances&quot;</span><br><span class="line">      ],</span><br><span class="line">      &quot;Effect&quot;: &quot;Allow&quot;</span><br><span class="line">    &#125;</span><br><span class="line">  ]</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>This policy allows starting, stopping, or terminating EC2 instances <strong>only if</strong>:</p>
<ul>
<li>The instance type is <code>t2.micro</code> or <code>t2.small</code>, <strong>and</strong></li>
<li>The instance is tagged with <code>Unit=COMP5349</code>.</li>
</ul>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">&#123;</span><br><span class="line">  &quot;Version&quot;: &quot;2012-10-17&quot;,</span><br><span class="line">  &quot;Statement&quot;: [</span><br><span class="line">    &#123;</span><br><span class="line">      &quot;Condition&quot;: &#123;</span><br><span class="line">        &quot;StringEquals&quot;: &#123;</span><br><span class="line">          &quot;ec2:InstanceType&quot;: [&quot;t2.micro&quot;, &quot;t2.small&quot;],</span><br><span class="line">          &quot;aws:ResourceTag/Project&quot;: &quot;DataAnalytics&quot;</span><br><span class="line">        &#125;</span><br><span class="line">      &#125;,</span><br><span class="line">      &quot;Resource&quot;: &quot;arn:aws:ec2:*:*:instance/*&quot;,</span><br><span class="line">      &quot;Action&quot;: [&quot;ec2:StopInstances&quot;, &quot;ec2:StartInstances&quot;],</span><br><span class="line">      &quot;Effect&quot;: &quot;Allow&quot;</span><br><span class="line">    &#125;</span><br><span class="line">  ]</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>This policy allows a user to start or stop EC2 instances <strong>only if</strong> the instance is type <code>t2.micro</code> or <code>t2.small</code> <strong>and</strong> has the tag <code>Project=DataAnalytics</code>. No other instances are affected.</p>
<h2 id="question-1-6-points-discuss-the-distinction-between-an-amazon-iam-group-and-an-amazon-iam-role-and-identify-one-situation-that-can-be-accomplished-using-both-mechanisms-and-another-situation-that-can-only-be-done-with-one-of-them"><a class="markdownIt-Anchor" href="#question-1-6-points-discuss-the-distinction-between-an-amazon-iam-group-and-an-amazon-iam-role-and-identify-one-situation-that-can-be-accomplished-using-both-mechanisms-and-another-situation-that-can-only-be-done-with-one-of-them"></a> Question 1 [6 points ] Discuss the distinction between an Amazon IAM group and an Amazon IAM role, and identify one situation that can be accomplished using both mechanisms, and another situation that can only be done with one of them.</h2>
<p>IAM Groups are used to assign permissions to multiple users. IAM Roles are used for temporary access, often by AWS services or external users. Both can be used to grant access to S3. But only roles can be assumed by services like Lambda, which groups cannot do.</p>
<table>
<thead>
<tr>
<th>Feature</th>
<th>IAM Group</th>
<th>IAM Role</th>
</tr>
</thead>
<tbody>
<tr>
<td><strong>Purpose</strong></td>
<td>Group multiple IAM users to manage permissions together</td>
<td>Temporary access for users or services</td>
</tr>
<tr>
<td><strong>Who uses it</strong></td>
<td>IAM users in the same account</td>
<td>IAM users, AWS services, federated users</td>
</tr>
<tr>
<td><strong>Credential</strong></td>
<td>Uses IAM user’s own credentials</td>
<td>Uses <strong>temporary credentials</strong> assumed at runtime</td>
</tr>
</tbody>
</table>
<h2 id="question-2-8-points-describe-the-distinctions-between-the-virtualization-technologies-employed-by-xen-hypervisor-and-nitro-system"><a class="markdownIt-Anchor" href="#question-2-8-points-describe-the-distinctions-between-the-virtualization-technologies-employed-by-xen-hypervisor-and-nitro-system"></a> Question 2 [8 points] Describe the distinctions between the virtualization technologies employed by Xen hypervisor and Nitro system.</h2>
<table>
<thead>
<tr>
<th>Feature</th>
<th><strong>Xen Hypervisor</strong></th>
<th><strong>Nitro System</strong></th>
</tr>
</thead>
<tbody>
<tr>
<td><strong>Type</strong></td>
<td>Traditional <strong>Type-1 hypervisor</strong></td>
<td>Hardware + software system using <strong>hardware-assisted</strong> virtualization</td>
</tr>
<tr>
<td><strong>Architecture</strong></td>
<td>Uses <strong>Dom0</strong> (control domain) to manage guest VMs</td>
<td><strong>No Dom0</strong>, management tasks moved to <strong>Nitro Controller</strong></td>
</tr>
<tr>
<td><strong>Isolation</strong></td>
<td>Guest VMs share hypervisor layer, less strict isolation</td>
<td>Each VM runs on a dedicated <strong>microVM</strong> with strong isolation</td>
</tr>
<tr>
<td><strong>Performance</strong></td>
<td>Good, but more <strong>overhead</strong> due to Dom0 and software-based I/O</td>
<td>Better performance due to <strong>offloading I/O to hardware</strong></td>
</tr>
<tr>
<td><strong>Security</strong></td>
<td>Medium – depends on Dom0 integrity</td>
<td>High – minimal trusted computing base, better isolation</td>
</tr>
<tr>
<td><strong>Used by</strong></td>
<td>Early generations of EC2 instances</td>
<td>Current EC2 instance families (e.g., M5, C5, T3, etc.)</td>
</tr>
</tbody>
</table>
<p>Xen uses a traditional hypervisor model with a special control domain (Dom0) to manage guest VMs. It relies more on software-based virtualization. In contrast, the Nitro system uses hardware-assisted virtualization with dedicated microVMs and offloads networking and storage to dedicated Nitro cards, providing better performance and stronger isolation. Xen 使用传统的虚拟机管理程序模型，并使用特殊的控制域 (Dom0) 来管理客户虚拟机。它更多地依赖于基于软件的虚拟化。相比之下，Nitro 系统使用硬件辅助虚拟化，配备专用的 microVM，并将网络和存储负载转移到专用的 Nitro 卡上，从而提供更佳的性能和更强的隔离性。</p>
<h2 id="question-3-5-points-explain-the-meaning-of-infrastructure-as-code-give-an-example-of-aws-iac-service"><a class="markdownIt-Anchor" href="#question-3-5-points-explain-the-meaning-of-infrastructure-as-code-give-an-example-of-aws-iac-service"></a> Question 3 [5 points] Explain the meaning of Infrastructure as Code. Give an example of AWS IaC service.</h2>
<p>Infrastructure as Code (IaC) is a way to manage cloud infrastructure using code. In AWS, CloudFormation is an example of IaC. Users define infrastructure (e.g., EC2, VPC, RDS) in a template, and AWS automatically sets it up. This improves automation, consistency, and repeatability. 基础设施即代码 (IaC) 是一种使用代码管理云基础设施的方法。在 AWS 中，CloudFormation 就是 IaC 的一个例子。用户在模板中定义基础设施（例如 EC2、VPC、RDS），AWS 会自动设置。这提高了自动化程度、一致性和可重复性。</p>
<h2 id="question-4-6-points-identify-and-describe-two-of-the-various-mechanisms-that-are-necessary-for-ensuring-a-highly-available-environment"><a class="markdownIt-Anchor" href="#question-4-6-points-identify-and-describe-two-of-the-various-mechanisms-that-are-necessary-for-ensuring-a-highly-available-environment"></a> Question 4 [6 points] Identify and describe two of the various mechanisms that are necessary for ensuring a highly available environment.</h2>
<p>High availability can be achieved by deploying services across multiple Availability Zones and using load balancers. Multi-AZ ensures redundancy in case one zone fails, while load balancers distribute traffic to healthy instances, preventing overload and improving fault tolerance. 通过跨多个可用区部署服务并使用负载均衡器，可以实现高可用性。多可用区可确保在一个可用区发生故障时提供冗余，而负载均衡器可将流量分配到运行正常的实例，从而防止过载并提高容错能力。</p>
</article><div class="post-copyright"><div class="post-copyright__author"><span class="post-copyright-meta"><i class="fas fa-circle-user fa-fw"></i>文章作者: </span><span class="post-copyright-info"><a href="https://www.433200.xyz">Xiaotan</a></span></div><div class="post-copyright__type"><span class="post-copyright-meta"><i class="fas fa-square-arrow-up-right fa-fw"></i>文章链接: </span><span class="post-copyright-info"><a href="https://www.433200.xyz/24b3f7b9.html">https://www.433200.xyz/24b3f7b9.html</a></span></div><div class="post-copyright__notice"><span class="post-copyright-meta"><i class="fas fa-circle-exclamation fa-fw"></i>版权声明: </span><span class="post-copyright-info">本博客所有文章除特别声明外，均采用 <a href="https://creativecommons.org/licenses/by-nc-sa/4.0/" target="_blank">CC BY-NC-SA 4.0</a> 许可协议。转载请注明来自 <a href="https://www.433200.xyz" target="_blank">Xiaotan's Blog</a>！</span></div></div><div class="tag_share"><div class="post-meta__tag-list"></div><div class="post_share"><div class="social-share" data-image="/attach/1.png" data-sites="facebook,twitter,wechat,weibo,qq"></div><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/butterfly-extsrc/1.1.3/sharejs/dist/css/share.min.css" media="print" onload="this.media='all'"><script src="https://cdnjs.cloudflare.com/ajax/libs/butterfly-extsrc/1.1.3/sharejs/dist/js/social-share.min.js" defer></script></div></div><div class="post-reward"><div class="reward-button"><i class="fas fa-qrcode"></i>赞助</div><div class="reward-main"><ul class="reward-all"><li class="reward-item"><a href="/attach/2wx.png" target="_blank"><img class="post-qr-code-img" src="/attach/2wx.png" alt="微信"/></a><div class="post-qr-code-desc">微信</div></li><li class="reward-item"><a href="/attach/2zfb.png" target="_blank"><img class="post-qr-code-img" src="/attach/2zfb.png" alt="支付宝"/></a><div class="post-qr-code-desc">支付宝</div></li></ul></div></div><hr class="custom-hr"/><div id="post-comment"><div class="comment-head"><div class="comment-headline"><i class="fas fa-comments fa-fw"></i><span> 评论</span></div></div><div class="comment-wrap"><div><div id="twikoo-wrap"></div></div></div></div></div><div class="aside-content" id="aside-content"><div class="sticky_layout"><div class="card-widget" id="card-toc"><div class="item-headline"><i class="fas fa-stream"></i><span>目录</span><span class="toc-percentage"></span></div><div class="toc-content is-expand"><ol class="toc"><li class="toc-item toc-level-2"><a class="toc-link" href="#aurora-%E5%A4%A7%E9%A2%98"><span class="toc-text"> Aurora 大题</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#question-1-6-points-name-three-typical-service-models-in-cloud-computing-give-an-example-service-of-each-model"><span class="toc-text"> Question 1 [6 points] Name three typical service models in cloud computing. Give an example service of each model.</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#question-2-5-points-describe-two-typical-traffic-patterns-in-modern-data-centre-explain-how-they-affect-the-networking-technology-evolution-in-cloud-computing-era"><span class="toc-text"> Question 2 [5 points] Describe two typical traffic patterns in modern data centre. Explain how they affect the networking technology evolution in cloud computing era.</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#question-3-8-points-explain-hardware-assisted-virtualisation-name-a-hardware-assisted-virtualisation-system-and-describe-its-components-in-detail"><span class="toc-text"> Question 3 [8 points] Explain hardware-assisted virtualisation. Name a hardware assisted virtualisation system and describe its components in detail.</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#hardware-assisted-virtualisation"><span class="toc-text"> Hardware-Assisted Virtualisation</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#example-system-kvm-kernel-based-virtual-machine"><span class="toc-text"> Example System: KVM (Kernel-based Virtual Machine)</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#how-it-works-kvm"><span class="toc-text"> How It Works (KVM):</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#question-4-10-points-describe-shared-responsibility-model-in-cloud-computing-use-a-particular-aws-service-covered-in-this-unit-to-explain-how-responsibilities-are-shared-between-cloud-providers-and-cloud-customers"><span class="toc-text"> Question 4 [10 points] Describe shared responsibility model in cloud computing. Use a particular AWS service covered in this unit to explain how responsibilities are shared between cloud providers and cloud customers.</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#aws-shared-responsibility-model"><span class="toc-text"> AWS Shared Responsibility Model</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#aws-is-responsible-for-security-of-the-cloud"><span class="toc-text"> AWS is responsible for “Security of the Cloud”</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#customer-is-responsible-for-security-in-the-cloud"><span class="toc-text"> Customer is responsible for “Security in the Cloud”</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#example-amazon-ec2"><span class="toc-text"> Example: Amazon EC2</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#question-5-8-points-describe-the-concept-of-elasticity-give-examples-of-two-aws-services-with-the-term-elastic-as-part-of-the-service-name-for-each-service-describe-what-elastic-features-are-available-in-this-service"><span class="toc-text"> Question 5 [8 points] Describe the concept of elasticity. Give examples of two AWS services with the term “elastic” as part of the service name. For each service, describe what elastic features are available in this service.</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#what-is-elasticity"><span class="toc-text"> What is Elasticity?</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#example-1-amazon-ec2-elastic-compute-cloud"><span class="toc-text"> Example 1: Amazon EC2 (Elastic Compute Cloud)</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#example-2-elastic-load-balancing-elb"><span class="toc-text"> Example 2: Elastic Load Balancing (ELB)</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#iam-policy"><span class="toc-text"> IAM policy</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#question-1-6-points-discuss-the-distinction-between-an-amazon-iam-group-and-an-amazon-iam-role-and-identify-one-situation-that-can-be-accomplished-using-both-mechanisms-and-another-situation-that-can-only-be-done-with-one-of-them"><span class="toc-text"> Question 1 [6 points ] Discuss the distinction between an Amazon IAM group and an Amazon IAM role, and identify one situation that can be accomplished using both mechanisms, and another situation that can only be done with one of them.</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#question-2-8-points-describe-the-distinctions-between-the-virtualization-technologies-employed-by-xen-hypervisor-and-nitro-system"><span class="toc-text"> Question 2 [8 points] Describe the distinctions between the virtualization technologies employed by Xen hypervisor and Nitro system.</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#question-3-5-points-explain-the-meaning-of-infrastructure-as-code-give-an-example-of-aws-iac-service"><span class="toc-text"> Question 3 [5 points] Explain the meaning of Infrastructure as Code. Give an example of AWS IaC service.</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#question-4-6-points-identify-and-describe-two-of-the-various-mechanisms-that-are-necessary-for-ensuring-a-highly-available-environment"><span class="toc-text"> Question 4 [6 points] Identify and describe two of the various mechanisms that are necessary for ensuring a highly available environment.</span></a></li></ol></div></div></div></div></main><footer id="footer"><div id="footer-wrap"><div class="copyright">&copy;2002 - 2025 By Xiaotan</div></div></footer></div><div id="rightside"><div id="rightside-config-hide"><button id="readmode" type="button" title="阅读模式"><i class="fas fa-book-open"></i></button><button id="darkmode" type="button" title="浅色和深色模式转换"><i class="fas fa-adjust"></i></button><button id="hide-aside-btn" type="button" title="单栏和双栏切换"><i class="fas fa-arrows-alt-h"></i></button></div><div id="rightside-config-show"><button id="rightside-config" type="button" title="设置"><i class="fas fa-cog fa-spin"></i></button><button class="close" id="mobile-toc-button" type="button" title="目录"><i class="fas fa-list-ul"></i></button><a id="to_comment" href="#post-comment" title="直达评论"><i class="fas fa-comments"></i></a><button id="go-up" type="button" title="回到顶部"><span class="scroll-percent"></span><i class="fas fa-arrow-up"></i></button></div></div><div><script src="/js/utils.js"></script><script src="/js/main.js"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/fancyapps-ui/5.0.33/fancybox/fancybox.umd.min.js"></script><script src="https://cdn.staticfile.net/instant.page/5.2.0/instantpage.min.js" type="module"></script><div class="js-pjax"><link rel="stylesheet" type="text/css" href="https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.16.9/katex.min.css"><script src="https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.16.9/contrib/copy-tex.min.js"></script><script>(() => {
  document.querySelectorAll('#article-container span.katex-display').forEach(item => {
    btf.wrap(item, 'div', { class: 'katex-wrap'})
  })
})()</script><script>(() => {
  const getCount = () => {
    const countELement = document.getElementById('twikoo-count')
    if(!countELement) return
    twikoo.getCommentsCount({
      envId: 'https://xtbolg.netlify.app/.netlify/functions/twikoo',
      region: '',
      urls: [window.location.pathname],
      includeReply: false
    }).then(res => {
      countELement.textContent = res[0].count
    }).catch(err => {
      console.error(err)
    })
  }

  const init = () => {
    twikoo.init(Object.assign({
      el: '#twikoo-wrap',
      envId: 'https://xtbolg.netlify.app/.netlify/functions/twikoo',
      region: '',
      onCommentLoaded: () => {
        btf.loadLightbox(document.querySelectorAll('#twikoo .tk-content img:not(.tk-owo-emotion)'))
      }
    }, null))

    GLOBAL_CONFIG_SITE.isPost && getCount()
  }

  const loadTwikoo = () => {
    if (typeof twikoo === 'object') setTimeout(init,0)
    else getScript('https://cdn.staticfile.net/twikoo/1.6.30/twikoo.all.min.js').then(init)
  }

  if ('Twikoo' === 'Twikoo' || !false) {
    if (false) btf.loadComment(document.getElementById('twikoo-wrap'), loadTwikoo)
    else loadTwikoo()
  } else {
    window.loadOtherComment = loadTwikoo
  }
})()</script></div><script defer src="/js/universe.js"></script><canvas id="universe"></canvas><script async src="/js/title.js"></script><div class="aplayer no-destroy" data-id="13582149382" data-server="netease" data-type="playlist" data-fixed="true" data-autoplay="false" data-order="random" data-pjax> </div><script src="https://cdnjs.cloudflare.com/ajax/libs/butterfly-extsrc/1.1.3/activate-power-mode.min.js"></script><script>POWERMODE.colorful = true;
POWERMODE.shake = false;
POWERMODE.mobile = false;
document.body.addEventListener('input', POWERMODE);
</script><script id="click-heart" src="https://cdnjs.cloudflare.com/ajax/libs/butterfly-extsrc/1.1.3/click-heart.min.js" async="async" mobile="false"></script><link rel="stylesheet" href="https://cdn.staticfile.net/aplayer/1.10.1/APlayer.min.css" media="print" onload="this.media='all'"><script src="https://cdn.staticfile.net/aplayer/1.10.1/APlayer.min.js"></script><script src="/js/meting.min.js"></script><script src="https://cdn.staticfile.net/pjax/0.2.8/pjax.min.js"></script><script>let pjaxSelectors = ["head > title","#config-diff","#body-wrap","#rightside-config-hide","#rightside-config-show",".js-pjax"]

var pjax = new Pjax({
  elements: 'a:not([target="_blank"])',
  selectors: pjaxSelectors,
  cacheBust: false,
  analytics: false,
  scrollRestoration: false
})

document.addEventListener('pjax:send', function () {

  // removeEventListener
  btf.removeGlobalFnEvent('pjax')
  btf.removeGlobalFnEvent('themeChange')

  document.getElementById('rightside').classList.remove('rightside-show')
  
  if (window.aplayers) {
    for (let i = 0; i < window.aplayers.length; i++) {
      if (!window.aplayers[i].options.fixed) {
        window.aplayers[i].destroy()
      }
    }
  }

  typeof typed === 'object' && typed.destroy()

  //reset readmode
  const $bodyClassList = document.body.classList
  $bodyClassList.contains('read-mode') && $bodyClassList.remove('read-mode')

  typeof disqusjs === 'object' && disqusjs.destroy()
})

document.addEventListener('pjax:complete', function () {
  window.refreshFn()

  document.querySelectorAll('script[data-pjax]').forEach(item => {
    const newScript = document.createElement('script')
    const content = item.text || item.textContent || item.innerHTML || ""
    Array.from(item.attributes).forEach(attr => newScript.setAttribute(attr.name, attr.value))
    newScript.appendChild(document.createTextNode(content))
    item.parentNode.replaceChild(newScript, item)
  })

  GLOBAL_CONFIG.islazyload && window.lazyLoadInstance.update()

  typeof panguInit === 'function' && panguInit()

  // google analytics
  typeof gtag === 'function' && gtag('config', '', {'page_path': window.location.pathname});

  // baidu analytics
  typeof _hmt === 'object' && _hmt.push(['_trackPageview',window.location.pathname]);

  typeof loadMeting === 'function' && document.getElementsByClassName('aplayer').length && loadMeting()

  // prismjs
  typeof Prism === 'object' && Prism.highlightAll()
})

document.addEventListener('pjax:error', e => {
  if (e.request.status === 404) {
    pjax.loadUrl('/404.html')
  }
})</script><script async data-pjax src="https://cn.vercount.one/js"></script><div id="local-search"><div class="search-dialog"><nav class="search-nav"><span class="search-dialog-title">搜索</span><span id="loading-status"></span><button class="search-close-button"><i class="fas fa-times"></i></button></nav><div class="is-center" id="loading-database"><i class="fas fa-spinner fa-pulse"></i><span>  数据库加载中</span></div><div class="search-wrap"><div id="local-search-input"><div class="local-search-box"><input class="local-search-box--input" placeholder="搜索文章" type="text"/></div></div><hr/><div id="local-search-results"></div><div id="local-search-stats-wrap"></div></div></div><div id="search-mask"></div><script src="/js/search/local-search.js"></script></div></div><!-- hexo injector body_end start --> <script data-pjax>if(document.getElementById('recent-posts') && (location.pathname ==='/'|| '/' ==='all')){
    var parent = document.getElementById('recent-posts');
    var child = '<div class="recent-post-item" style="width:100%;height: auto"><div id="catalog_magnet"><div class="magnet_item"><a class="magnet_link" href="https://www.433200.xyz/categories/学习/"><div class="magnet_link_context" style=""><span style="font-weight:500;flex:1">📚 学习笔记 (37)</span><span style="padding:0px 4px;border-radius: 8px;"><i class="fas fa-arrow-circle-right"></i></span></div></a></div><div class="magnet_item"><a class="magnet_link" href="https://www.433200.xyz/categories/折腾/"><div class="magnet_link_context" style=""><span style="font-weight:500;flex:1">🔧 折腾记录 (12)</span><span style="padding:0px 4px;border-radius: 8px;"><i class="fas fa-arrow-circle-right"></i></span></div></a></div><div class="magnet_item"><a class="magnet_link" href="https://www.433200.xyz/categories/心理/"><div class="magnet_link_context" style=""><span style="font-weight:500;flex:1">👓 心理/MBTI (7)</span><span style="padding:0px 4px;border-radius: 8px;"><i class="fas fa-arrow-circle-right"></i></span></div></a></div><div class="magnet_item"><a class="magnet_link" href="https://www.433200.xyz/categories/菜谱/"><div class="magnet_link_context" style=""><span style="font-weight:500;flex:1">🍜 好吃的 (2)</span><span style="padding:0px 4px;border-radius: 8px;"><i class="fas fa-arrow-circle-right"></i></span></div></a></div><a class="magnet_link_more"  href="https://www.433200.xyz/categories" style="flex:1;text-align: center;margin-bottom: 10px;">查看更多...</a></div></div>';
    console.log('已挂载magnet')
    parent.insertAdjacentHTML("afterbegin",child)}
     </script><style>#catalog_magnet{flex-wrap: wrap;display: flex;width:100%;justify-content:space-between;padding: 10px 10px 0 10px;align-content: flex-start;}.magnet_item{flex-basis: calc(50% - 5px);background: #f2f2f2;margin-bottom: 10px;border-radius: 8px;transition: all 0.2s ease-in-out;}.magnet_item:hover{background: #FFC0CB}.magnet_link_more{color:#555}.magnet_link{color:black}.magnet_link:hover{color:white}@media screen and (max-width: 600px) {.magnet_item {flex-basis: 100%;}}.magnet_link_context{display:flex;padding: 10px;font-size:16px;transition: all 0.2s ease-in-out;}.magnet_link_context:hover{padding: 10px 20px;}</style>
    <style></style><script data-pjax>
  function butterfly_footer_beautify_injector_config(){
    var parent_div_git = document.getElementById('footer-wrap');
    var item_html = '<div id="workboard"></div><p id="ghbdages"><a class="github-badge" target="_blank" href="https://hexo.io/" style="margin-inline:5px" data-title="博客框架为Hexo_v6.2.0" title=""><img src="https://img.shields.io/badge/Frame-Hexo-blue?style=flat&amp;logo=hexo" alt=""/></a><a class="github-badge" target="_blank" href="https://butterfly.js.org/" style="margin-inline:5px" data-title="主题版本Butterfly_v4.3.1" title=""><img src="https://img.shields.io/badge/Theme-Butterfly-6513df?style=flat&amp;logo=bitdefender" alt=""/></a><a class="github-badge" target="_blank" href="https://vercel.com/" style="margin-inline:5px" data-title="本站采用多线部署，主线路托管于Vercel" title=""><img src="https://img.shields.io/badge/Hosted-Vercel-brightgreen?style=flat&amp;logo=Vercel" alt=""/></a><a class="github-badge" target="_blank" href="https://dashboard.4everland.org/" style="margin-inline:5px" data-title="本站采用多线部署，备用线路托管于4EVERLAND" title=""><img src="https://img.shields.io/badge/Hosted-4EVERLAND-22DDDD?style=flat&amp;logo=IPFS" alt=""/></a><a class="github-badge" target="_blank" href="https://github.com/" style="margin-inline:5px" data-title="本站项目由Github托管" title=""><img src="https://img.shields.io/badge/Source-Github-d021d6?style=flat&amp;logo=GitHub" alt=""/></a><a class="github-badge" target="_blank" href="http://creativecommons.org/licenses/by-nc-sa/4.0/" style="margin-inline:5px" data-title="本站采用知识共享署名-非商业性使用-相同方式共享4.0国际许可协议进行许可" title=""><img src="https://img.shields.io/badge/Copyright-BY--NC--SA%204.0-d42328?style=flat&amp;logo=Claris" alt=""/></a></p>';
    console.log('已挂载butterfly_footer_beautify')
    parent_div_git.insertAdjacentHTML("beforeend",item_html)
    }
  var elist = 'null'.split(',');
  var cpage = location.pathname;
  var epage = 'all';
  var flag = 0;

  for (var i=0;i<elist.length;i++){
    if (cpage.includes(elist[i])){
      flag++;
    }
  }

  if ((epage ==='all')&&(flag == 0)){
    butterfly_footer_beautify_injector_config();
  }
  else if (epage === cpage){
    butterfly_footer_beautify_injector_config();
  }
  </script><script async src="/js/runtime.js"></script><div class="js-pjax"><script async="async">var arr = document.getElementsByClassName('recent-post-item');
for(var i = 0;i<arr.length;i++){
    arr[i].classList.add('wow');
    arr[i].classList.add('animate__jackInTheBox');
    arr[i].setAttribute('data-wow-duration', '1s');
    arr[i].setAttribute('data-wow-delay', '50ms');
    arr[i].setAttribute('data-wow-offset', '');
    arr[i].setAttribute('data-wow-iteration', '1');
  }</script><script async="async">var arr = document.getElementsByClassName('card-info');
for(var i = 0;i<arr.length;i++){
    arr[i].classList.add('wow');
    arr[i].classList.add('animate__jackInTheBox');
    arr[i].setAttribute('data-wow-duration', '1s');
    arr[i].setAttribute('data-wow-delay', '50ms');
    arr[i].setAttribute('data-wow-offset', '');
    arr[i].setAttribute('data-wow-iteration', '');
  }</script><script async="async">var arr = document.getElementsByClassName('card-tags');
for(var i = 0;i<arr.length;i++){
    arr[i].classList.add('wow');
    arr[i].classList.add('animate__jackInTheBox');
    arr[i].setAttribute('data-wow-duration', '1s');
    arr[i].setAttribute('data-wow-delay', '50ms');
    arr[i].setAttribute('data-wow-offset', '');
    arr[i].setAttribute('data-wow-iteration', '');
  }</script><script async="async">var arr = document.getElementsByClassName('card-webinfo');
for(var i = 0;i<arr.length;i++){
    arr[i].classList.add('wow');
    arr[i].classList.add('animate__jackInTheBox');
    arr[i].setAttribute('data-wow-duration', '1s');
    arr[i].setAttribute('data-wow-delay', '50ms');
    arr[i].setAttribute('data-wow-offset', '');
    arr[i].setAttribute('data-wow-iteration', '');
  }</script></div><script defer src="https://cdn.staticfile.net/wow/1.1.2/wow.min.js"></script><script defer src="/js/wow_init.js"></script><!-- hexo injector body_end end --></body></html>